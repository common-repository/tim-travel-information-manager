function timInitializeMap(e,t){null==e&&(e="");var n=document.getElementById("tim_googleMap"+e);if(null!==n&&"undefined"!=typeof google){var a=document.getElementById("timMapType"+e);if(null!==a)"waypoints"===a.value?timGoogleRouteWayPointsMap(n,t):"multiple"===a.value&&timLoadMultiLocationMap(n,t);else{var i=document.getElementById("tim_geoLat"+e).value,r=document.getElementById("tim_geoLng"+e).value,o=document.getElementById("tim_geoZoom"+e).value,m=new google.maps.LatLng(i,r),l={center:m,zoom:parseInt(o),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},s=new google.maps.Map(n,l);new google.maps.Marker({position:m}).setMap(s),google.maps.event.trigger(s,"resize")}}}function timGoogleRouteWayPointsMap(e,t){var n=new google.maps.DirectionsRenderer,a=new google.maps.DirectionsService,i={zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(e,i);n.setMap(r),calculateAndDisplayRoute(a,n,t)}function calculateAndDisplayRoute(e,n,t){var a={lat:t.departure.lat,lng:t.departure.lng},i={lat:t.arrival.lat,lng:t.arrival.lng},r=[];if(t.waypoints&&0<t.waypoints.length)for(var o=0;o<t.waypoints.length;o++){var m=t.waypoints[o],l=!!m.stop_on_route;r.push({location:new google.maps.LatLng(m.location.lat,m.location.lng),stopover:l})}e.route({origin:a,destination:i,waypoints:r,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},function(e,t){"OK"===t?n.setDirections(e):window.alert("Directions request failed due to "+t)})}function timLoadMultiLocationMap(e,t){if(void 0!==navigator.geolocation){coords=timGroupLocations(t);var n={zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP},a=new google.maps.Map(e,n),i=[];for(o=0;o<coords.length;o++)i.push(new google.maps.LatLng(coords[o].lat,coords[o].lng));for(var r=new google.maps.LatLngBounds,o=0;o<i.length;o++){r.extend(i[o]);var m=new google.maps.Marker({map:a,position:i[o]});if(0<coords[o].locations.length){for(var l="",s=0;s<coords[o].locations.length;s++)l+='<li title="Day '+coords[o].locations[s].day_number+" - "+coords[o].locations[s].name+'">'+coords[o].locations[s].day_number+"</li>";new google.maps.InfoWindow({content:'<div class="tim_map_labels"><ul>'+l+"</ul></div>"}).open(a,m)}}new google.maps.Polyline({map:a,path:i,strokeColor:"#0000FF",strokeOpacity:.7,strokeWeight:2});a.fitBounds(r)}else alert("Your browser doesnt support the Geolocation API")}function timGroupLocations(e){for(var t,n,a,i=[],r=[],o=e.length,m=0;m<o;m++)i[(t=e[m]).lat]||(i[t.lat]={lat:t.lat,lng:t.lng,locations:[]});for(var l in i){n=i[l].lat;for(m=0;m<o;m++)a={day_number:(t=e[m]).day_number,name:t.name},n===t.lat&&i[l].locations.push(a);0}for(var l in i)r.push(i[l]);var s=i[e[o-1].lat]={lat:e[o-1].lat,lng:e[o-1].lng,locations:[]};return r.push(s),r}function timAjaxContent(e,t){var n={action:"open_modal",f_nonce:timData.f_nonce,option:e,lang:document.getElementById("timCL").value};t&&(n.id=t),timPostAjax(timData.ajaxurl,n,function(e){openModal(e)})}function openModal(e,t){var n={content:e,type:"ajax",autoSize:!1,maxWidth:1100,maxHeight:800,width:"95%",afterShow:function(){timLoadModalSlider()}};t&&(t.preventCloseOutside&&(n.helpers={overlay:{closeClick:!1}}),t.hideCloseBtn&&(n.closeBtn=!1),t.autoSize&&(n.autoSize=!0)),jQuery.fancybox.open(n)}function timLoadModalSlider(){jQuery("div.tim_detail_slider_modal").length&&setTimeout(function(){new Swiper(".tim_detail_slider_modal",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}})},500)}function timLoadSwiper(){new Swiper(".tim-detail-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".tim-rooms-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".tim-carrousel-slider",{pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,grabCursor:!1,spaceBetween:20,slidesPerView:3,breakpoints:{992:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},320:{slidesPerView:1,spaceBetween:10}}})}function timTabContent(e,t,n){var a,i,r;for(i=document.getElementsByClassName("tim_tab_content"),a=0;a<i.length;a++)i[a].style.display="none";if(!n){for(r=document.getElementsByClassName("tablink"),a=0;a<i.length;a++)void 0!==r[a]&&(r[a].className=r[a].className.replace(" active",""));e.currentTarget.className+=" active"}document.getElementById(t).style.display="block","timTabMap"==t&&timInitializeMap("Tab")}function timToggleContent(e){var t=document.getElementById(e);"none"===t.style.display?t.style.display="block":t.style.display="none"}function timScrollTo(e){return document.getElementById(e).scrollIntoView({behavior:"smooth"}),!1}function timShowErrorLabelApi(e){var t=document.getElementById("timGuestEmail");t.classList.remove("tim_error_input"),t.classList.add("tim_error_input"),t.insertAdjacentHTML("afterend",'<div id="timGuestEmailErrorMsg" class="tim_error_input_msg">'+e+"</div>"),t.focus()}function timLoadData(e,t){var n={action:e,f_nonce:timData.f_nonce,lang:t||document.getElementById("timCL").value},a=document.getElementById("timLoadDataResult");timPostAjax(timData.ajaxurl,n,function(e){a.innerHTML=e})}function timCheckLoginForm(){setButton();var e=0,t=document.getElementById("timCustomerEmail").value,n=document.getElementById("timCustomerPassword").value;if(e=validateEmail("timCustomerEmail",e=validateInput("timCustomerPassword",e)))return setButton(1),!1;var a={action:"create_client_login_api",f_nonce:timData.f_nonce,email:t,password:n,lang:document.getElementById("timCL").value},i=document.getElementById("timCustomerFormErrorMsg");timShowSpinner("tim_spinner"),timPostAjax(timData.ajaxurl,a,function(e){if("false"==e)return!1;(e=JSON.parse(e)).errors?(setButton(1),i.innerHTML='<div class="tim_alert tim_alert_danger">'+e.errors+"</div>"):location.reload(),timHideSpinner("tim_spinner")})}function timLogout(){var e={action:"client_logout",f_nonce:timData.f_nonce};timPostAjax(timData.ajaxurl,e,function(e){location.reload()})}function timCheckSignupForm(){setButton();var e=0,t=document.getElementById("timCustomerName").value,n=document.getElementById("timCustomerLastName").value,a=document.getElementById("timCustomerEmail").value,i=document.getElementById("timCustomerPhoneNumber").value,r=document.getElementById("timCustomerPhoneCode").value,o=document.getElementById("timCustomerCountry").value,m=document.getElementById("timGuestTaxIdCode").value,l=document.getElementById("timGuestTaxIdNumber").value,s=document.getElementById("timCustomerPassword").value;if(e=validateInput("timCustomerPassword",e),e=validateInput("timGuestTaxIdCode",e),e=validateInput("timGuestTaxIdNumber",e),e=validateInput("timCustomerCountry",e),e=validateInput("timCustomerLastName",e=validateEmail("timCustomerEmail",e=validatePhone("timCustomerPhoneNumber",e))),e=validateInput("timCustomerName",e))return setButton(1),!1;var u=o.split("-")[0],d={action:"create_client_signup_api",f_nonce:timData.f_nonce,name:t,last_name:n,tax_id_code:m,tax_id_number:l,email:a,phone_number:i,phone_code:r,country_id:u,password:s,lang:document.getElementById("timCL").value},c=document.getElementById("timCustomerFormErrorMsg");timShowSpinner("tim_spinner"),timPostAjax(timData.ajaxurl,d,function(e){if("false"==e)return!1;if((e=JSON.parse(e)).errors){setButton(1);var t=[];for(var n in e.errors){t=e.errors[n].join(", ")}c.innerHTML='<div class="tim_alert tim_alert_danger">'+t+"</div>"}else location.reload();timHideSpinner("tim_spinner")})}function timSelectCountry(e,t){var n=document.getElementById("tim"+[t]+"PhoneNumber"),a=document.getElementById("tim"+[t]+"PhoneCode");n.value="",a.value="",n.disabled=!e;var i=e.split("-")[1];a.value=i,jQuery("#tim"+[t]+"PhoneNumber").inputmask({mask:"("+a.value+") 9{0,20}",autoUnmask:!0,removeMaskOnSubmit:!0,greedy:!1})}function timCheckPasswordRecoveryForm(){setButton();var e=0,t=document.getElementById("timCustomerEmail").value;if(e=validateEmail("timCustomerEmail",e))return setButton(1),!1;var n={action:"create_client_password_api",f_nonce:timData.f_nonce,email:t,lang:document.getElementById("timCL").value},a=document.getElementById("timCustomerFormErrorMsg");timShowSpinner("tim_spinner"),timPostAjax(timData.ajaxurl,n,function(e){if("false"==e)return!1;(e=JSON.parse(e)).errors?(setButton(1),a.innerHTML='<div class="tim_alert tim_alert_danger">'+e.errors+"</div><br />"):(timLoadData("load_edit_password_form"),document.getElementById("timClientEmail").value=e.email),timHideSpinner("tim_spinner")})}function timCheckUpdatePassword(){setButton();var e=0,t=document.getElementById("timCustomerCode").value,n=document.getElementById("timCustomerPassword").value;if(e=validateInput("timCustomerPassword",e),e=validateInput("timCustomerCode",e))return setButton(1),!1;var a=document.getElementById("timClientEmail").value,i={action:"update_client_password_api",f_nonce:timData.f_nonce,email:a,code:t,password:n,lang:document.getElementById("timCL").value},r=document.getElementById("timCustomerFormErrorMsg");timShowSpinner("tim_spinner"),jQuery.post(timData.ajaxurl,i,function(e){if("false"==e)return!1;if((e=JSON.parse(e)).errors)setButton(1),r.innerHTML='<div class="tim_alert tim_alert_danger">'+e.errors+"</div>";else{timLoadData("load_login_form");var t=document.getElementById("timLabelPasswordUpdated").value;document.getElementById("timCustomerFormSuccessMsg").innerHTML='<div class="tim_alert tim_alert_success">'+t+".</div><br />"}timHideSpinner("tim_spinner")})}function timCheckUpdateClientProfile(){setButton();var e=0,t=document.getElementById("timCustomerId").value,n=document.getElementById("timCustomerName").value,a=document.getElementById("timCustomerLastName").value,i=document.getElementById("timCustomerEmail").value,r=document.getElementById("timCustomerPhoneNumber").value,o=document.getElementById("timCustomerPhoneCode").value,m=document.getElementById("timCustomerCountry").value;if(e=validateInput("timCustomerCountry",e),e=validateInput("timCustomerLastName",e=validateEmail("timCustomerEmail",e=validatePhone("timCustomerPhoneNumber",e))),e=validateInput("timCustomerName",e))return setButton(1),!1;var l=m.split("-")[0],s={action:"update_client_profile_api",f_nonce:timData.f_nonce,id:t,name:n,last_name:a,email:i,phone_number:r,phone_code:o,country_id:l,lang:document.getElementById("timCL").value},u=document.getElementById("timClientProfileFormErrorMsg");timShowSpinner("tim_spinner"),timPostAjax(timData.ajaxurl,s,function(e){if("false"==e)return!1;if((e=JSON.parse(e)).errors){setButton(1);var t=[];for(var n in e.errors){t=e.errors[n].join(", ")}u.innerHTML='<div class="tim_alert tim_alert_danger">'+t+"</div>"}else{var a=document.getElementById("timLabelProfileUpdated").value;document.getElementById("timCustomerFormSuccessMsg").innerHTML='<div class="tim_alert tim_alert_lg tim_alert_success">'+a+' <a href="javascript:void(0);" onclick="timCloseAlert(\'timCustomerFormSuccessMsg\')" class="tim_alert_close">x</a></div>',timLoadData("load_client_profile")}timHideSpinner("tim_spinner")})}function timCloseAlert(e){document.getElementById(e).innerHTML=""}function timCheckUpdateClientPassword(){setButton();var e=0,t=document.getElementById("timCustomerId").value,n=document.getElementById("timCustomerPassword").value;document.getElementById("timCustomerPasswordConfirmation").value;if(e=validateInput("timCustomerPasswordConfirmation",e),e=validatePasswordConfirmation("timCustomerPassword","timCustomerPasswordConfirmation",e=validateInput("timCustomerPassword",e)))return setButton(1),!1;var a={action:"update_client_profile_password_api",f_nonce:timData.f_nonce,id:t,password:n,lang:document.getElementById("timCL").value},i=document.getElementById("timClientPasswordFormErrorMsg");timShowSpinner("tim_spinner"),timPostAjax(timData.ajaxurl,a,function(e){if("false"==e)return!1;if((e=JSON.parse(e)).errors){setButton(1);var t=[];for(var n in e.errors){t=e.errors[n].join(", ")}i.innerHTML='<div class="tim_alert tim_alert_danger">'+t+"</div>"}else{var a=document.getElementById("timLabelPasswordUpdated").value;document.getElementById("timCustomerFormSuccessMsg").innerHTML='<div class="tim_alert tim_alert_lg tim_alert_success">'+a+' <a href="javascript:void(0);" onclick="timCloseAlert(\'timCustomerFormSuccessMsg\')" class="tim_alert_close">x</a></div>',document.getElementById("timCustomerPassword").value="",document.getElementById("timCustomerPasswordConfirmation").value="",timLoadData("load_client_profile")}timHideSpinner("tim_spinner")})}function timProcessSecondaryPriceList(e){var t={action:"accept_secondary_price_list",option:e,f_nonce:timData.f_nonce};timPostAjax(timData.ajaxurl,t,function(){location.reload()})}function validateInput(e,t){var n=document.getElementById(e);if(n.classList.remove("tim_error_input"),document.getElementById(e+"Err")&&document.getElementById(e+"Err").remove(),""==n.value||0==n.value){if(n.classList.add("tim_error_input"),document.getElementById(e+"Error")){var a=document.getElementById(e+"Error").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}return t}function validateEmail(e,t){var n=document.getElementById(e);if(n.classList.remove("tim_error_input"),document.getElementById(e+"Err")&&document.getElementById(e+"Err").remove(),""==n.value){if(n.classList.add("tim_error_input"),document.getElementById(e+"Error")){var a=document.getElementById(e+"Error").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}else{if(!/^[A-Za-z][A-Za-z0-9_.]*@[A-Za-z0-9_-]+\.[A-Za-z0-9_.]+[A-za-z]$/.test(n.value)){if(n.classList.add("tim_error_input"),document.getElementById(e+"Invalid")){a=document.getElementById(e+"Invalid").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}}return t}function validatePhone(e,t){var n=document.getElementById(e);if(n.classList.remove("tim_error_input"),document.getElementById(e+"Err")&&document.getElementById(e+"Err").remove(),""==n.value||0==n.value){if(n.classList.add("tim_error_input"),document.getElementById(e+"Error")){var a=document.getElementById(e+"Error").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}else{if(!/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g.test(n.value)){if(n.classList.add("tim_error_input"),document.getElementById(e+"Invalid")){a=document.getElementById(e+"Invalid").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}}return t}function validateTaxIdNumber(e,t){var n=document.getElementById(e);if(n.classList.remove("tim_error_input"),document.getElementById(e+"Err")&&document.getElementById(e+"Err").remove(),""==n.value||0==n.value){if(n.classList.add("tim_error_input"),document.getElementById(e+"Error")){var a=document.getElementById(e+"Error").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}else{var i;switch(document.getElementById("timGuestTaxIdCode").value){case"01":i=9;break;case"02":case"03":case"04":i=10;break;case"06":i=9}if(n.value.length<i){if(n.classList.add("tim_error_input"),document.getElementById(e+"Invalid")){a=document.getElementById(e+"Invalid").value;n.insertAdjacentHTML("afterend",'<div id="'+e+'Err" class="tim_error_input_msg">'+a+"</div>")}t=1}}return t}function validatePasswordConfirmation(e,t,n){var a=document.getElementById(e),i=getElementById(t),r=document.getElementById("timClientPasswordFormErrorMsg");if((r.innerHTML="")!=a.value&&""!=i.value&&a.value!=i.value){if(a.className="tim_error_input",i.className="tim_error_input",document.getElementById(id+"Error")){var o=getElementById(id+"Error").value;r.innerHTML='<br /><div class="tim_alert tim_alert_danger">'+o+"</div>"}n=1}return n}function setButton(e){if(void 0!==document.getElementsByClassName("timSendButton")[0]){var t=!e;document.getElementsByClassName("timSendButton")[0].disabled=t}}function timShowSpinner(e){document.getElementsByClassName(e)[0].style.display="inline"}function timHideSpinner(e){document.getElementsByClassName(e)[0].style.display="none"}function timRemoveItemFromArray(e,t,n){var a=timFindArrayIndex(e,t,n);return e.splice(a,1),e}function timFindItemInArray(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function timFindArrayIndex(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return a;return null}function setTimePicker(e,t){var n={timeSeparator:":"};t&&(n.now=t),jQuery("."+e).wickedpicker(n)}function timConvertTimeToDB(e){var t=e.split(" "),n=t[0].split(":"),a=n[0],i=n[1];if(a<10&&(a="0"+a),"PM"===t[1])switch(a){case"01":a="13";break;case"02":a="14";break;case"03":a="15";break;case"04":a="16";break;case"05":a="17";break;case"06":a="18";break;case"07":a="19";break;case"07":a="20";break;case"09":a="21";break;case"10":a="22";break;case"11":a="23";break;case"12":a="24"}return a+":"+i}function timParseDate(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function timGetDiffInDays(e,t){return Math.round((t-e)/864e5)}function increaseDate(e,t){var n=e.split("-"),a=new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10));return a.setDate(a.getDate()+1),n[0]=""+a.getFullYear(),n[1]=""+(a.getMonth()+1),n[1].length<2&&(n[1]="0"+n[1]),n[2]=""+a.getDate(),n[2].length<2&&(n[2]="0"+n[2]),n.join("-")}function getTodayDate(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e=e.getFullYear()+"-"+n+"-"+t}function timFormatHour(e){var t=e.split(":"),n=t[0];t[1];return value=(e="00:00"==e?"12:00":e)+" "+(n<"12"?"AM":"12"==n?"MD":"PM"),value}function timRoundNum(e,t){return e=isNaN(e)?0:e,t=t||2,Number(Math.round(e+"e"+t)+"e-"+t)}function timOnlyNumbers(e){if(e.keyCode?code=e.keyCode:e.which&&(code=e.which),8==code||9==code||13==code)return!0;var t=String.fromCharCode(code);return"0"<=t&&t<="9"}function timCurrencyFormat(e,t){return t=t||2,e.toFixed(t).replace(/\.?0*$/g,"")}function timPostAjax(e,t,n){var a="string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return i.open("POST",e),i.onreadystatechange=function(){3<i.readyState&&200==i.status&&n(i.responseText)},i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(a),i}!function(n){n(function(){n("a.tim_fancybox").length&&n("a.tim_fancybox").fancybox(),n('.tim_list_search_filter_form select[name="sort"]').change(function(){"all"!==n(this).val()&&n(".tim_list_search_filter_form").submit()}),n(".tim-currency-value").click(function(){var e=n(this).attr("id"),t={action:"set_currency_value",f_nonce:timData.f_nonce,currency_code:e};n.post(timData.ajaxurl,t,function(e){location.reload()})}),n("#tim-tab-map").click(function(e){setTimeout(timInitializeMap,1e3)}),n(".tim-tabs .tim-tabs-links a").on("click",function(e){var t=n(this).attr("href");n(".tim-tabs "+t).show().siblings().hide(),n(this).parent("li").addClass("active").siblings().removeClass("active"),e.preventDefault()}),n(".swipper.tim-tabs-links a").click(function(){timLoadSwiper()})})}(jQuery);