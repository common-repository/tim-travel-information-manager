function timSincronize(e,t){timDisableButton(t),timShowSpinner("tim_travel_form_spinner"),jQuery.post(ajaxurl,{action:"sync_tim_api",nonce:timData.nonce,option:e},function(e){jQuery(".updated").show(),jQuery(".updated p").html(e),timEnableButton(t),timHideSpinner("tim_travel_form_spinner")})}function timEnableButton(e){document.getElementById(e).disabled=!1}function timDisableButton(e){document.getElementById(e).disabled=!0}function timShowSpinner(e){document.getElementsByClassName(e)[0].style.display="inline"}function timHideSpinner(e){document.getElementsByClassName(e)[0].style.display="none"}function timTravelResetErrors(){jQuery("form#tim_travel_admin_form input").removeClass("tim_travel_error_input"),jQuery("label.tim_travel_error").remove()}function timDisplayContent(e,t){var n=jQuery("#"+t);e.checked?n.show():n.hide()}function timDisplayContentForRadios(e,t){var n=document.getElementById(t);0==e.value?n.style.display="none":n.style.display="inline-block"}function timOnlyNumbers(e){if(e.keyCode?code=e.keyCode:e.which&&(code=e.which),8==code||9==code||13==code)return!0;var t=String.fromCharCode(code);return"0"<=t&&t<="9"}function timPostAjax(e,t,n){var i="string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("POST",e),o.onreadystatechange=function(){3<o.readyState&&200==o.status&&n(o.responseText)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i),o}!function(r){r(function(){r("a.tim_fancybox").fancybox();var o={};r("#tim_travel_admin_form").on("submit",function(e){timTravelResetErrors();var i="#tim_travel_admin_form",n=".tim_travel_form_spinner#tim_travel_admin_form_spinner";r(n).css("display","inline");return r.each(r("form"+i+" input, form"+i+' input[type="radio"], form'+i+' input[type="checkbox"], form'+i+" textarea, form"+i+" select"),function(e,t){"submit"!==t.type&&("radio"!==t.type&&"checkbox"!==t.type||t.checked)&&(o[t.name]=t.value)}),r.ajax({dataType:"json",type:"POST",url:"options.php",data:o,success:function(e){r.each(e,function(e,t){var n='<label class="tim_travel_error" for="'+e+'">'+t+"</label>";r(i+' input[name="'+e+'"]').addClass("tim_travel_error_input").after(n)});var t=Object.keys(e);return r(i+' input[name="'+t[0]+'"]').focus(),r(n).hide(),!1},error:function(e){alert("General options saved"),location.reload()}}),e.preventDefault(),!1}),r("#tim_travel_sync").click(function(e){var t=".tim_travel_form_spinner#tim_travel_sync_spinner";r(t).css("display","inline"),r.post(ajaxurl,{action:"sync_tim_api",nonce:timData.nonce},function(e){r(".updated").show(),r(".updated p").html(e),r(t).hide()})})})}(jQuery);